<p id="notice"><%= notice %></p>
<div class="container d-flex flex-column justify-content-center align-items-center">
  <h1 class="mb-4">Tasks list</h1>

  <div class="row">
    <div class="col-12">
      <div class="col-6">
          <%= form_with url: tasks_path, method: :get, local: true do |form| %>
              <div class="col-2">
                  <%= form.label :task_name, "Task name" %>
                  <%= form.text_field :task_name %>
              </div>
              <div class="col-2">
                  <%= form.label :status, "Status" %>
                  <%= form.select :status, options_for_select([[''],['Unstarted'], ['In progress'], ['Completed']])%>
              </div>
              <div class="col-2">
                  <%= form.submit "Search", name: nil, class: "btn" %>
              </div>
          <% end %>
      </div>

      <div class="col-6">
          <div class="col-3">
              <a href = "<%= tasks_path(sort_expired: "true") %>" class="btn btn-primary">Sort by end deadline</a>
          </div> <br>
          <div class="col-3">
              <a href = "<%= tasks_path(sort_priority: "true") %>" class="btn btn-primary">Sort by priority </a>
          </div>
      </div> <br>
    </div>

  
    
    <div class ='table-responsive col-12 mb-4'>
      <a href = "<%= new_task_path %>" class="btn btn-primary mb-3" >Add new Task</a> 
      <table class = "table table-striped table-hover border" >
        <thead>
          <tr>
            <th>Task name </th>
            <th>Description </th>
            <th>Priority </th>
            <th>Status </th>
            <th>Deadline </th>
            <th>Actions </th>
          </tr>
        </thead>

        <tbody>
          <% @tasks.each do |task| %>
            <tr>
              <td class="task_row" ><%= task.task_name %></td>
              <td><%= truncate(task.task_details, length: 10) %></td>
              <td><%= task.priority %></td>
              <td><%= task.status %></td>
              <td class="deadline_row" ><%= task.deadline %></td>
              <td>
                <a href = "<%= task_path(task.id) %>" class="btn btn-primary">Show</a>
                <a href = "<%= edit_task_path(task.id) %>" class="btn btn-warning">Edit</a>
                <a href = "<%= task_path(task.id) %>" class="btn btn-danger", data-confirm="Are you sure?" data-method="DELETE">Destroy</a>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    
    <div class="container pagination justify-content-center" >
      <%= paginate @tasks, theme: 'twitter-bootstrap-4', pagination_class: "pagination-sm" %>
    </div>
 
  </div>
</div> <br>